# Gité›†æˆæ¨¡å— - ç³»ç»Ÿæ¶æ„æ€»è§ˆ

<!--
ç« èŠ‚IDè§„èŒƒè¯´æ˜ï¼š
- æ ¼å¼ï¼š{#arch-Gité›†æˆ-[ç« èŠ‚æ ‡è¯†]}
- å¿…é¡»æ ‡æ³¨IDçš„ç« èŠ‚ï¼šæ¨¡å—åˆ’åˆ†ã€æ ¸å¿ƒæµç¨‹ã€å¯¹å¤–æ¥å£
- ç¤ºä¾‹ï¼š{#arch-Gité›†æˆ-æ¨¡å—åˆ’åˆ†} è¡¨ç¤ºGité›†æˆæ¨¡å—ç³»ç»Ÿæ¶æ„çš„æ¨¡å—åˆ’åˆ†ç« èŠ‚
-->

> **é¡¹ç›®**: AIè¶…çº§ä¸ªä½“å¼€å‘åŠ©æ‰‹
> **ç‰ˆæœ¬**: v1.0.0
> **è¿­ä»£**: Iteration 1
> **æ¨¡å—**: Gité›†æˆæ¨¡å—
> **æ—¥æœŸ**: 2025-12-15

---

## ä¸€ã€æ¶æ„æ¦‚è¿°

### 1.1 æ¨¡å—å®šä½

Gité›†æˆæ¨¡å—æ˜¯ç³»ç»Ÿçš„**ç‰ˆæœ¬æ§åˆ¶ä¸­æ¢(Version Control Hub)**ï¼Œè´Ÿè´£è‡ªåŠ¨åŒ–Gitæ“ä½œå’Œç‰ˆæœ¬ç®¡ç†ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              çŠ¶æ€å˜æ›´äº‹ä»¶(State Change Events)        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  æ¨¡å—çŠ¶æ€å˜æ›´ â”‚ é˜¶æ®µè½¬æ¢ â”‚ æ–‡æ¡£æ›´æ–° â”‚ çƒ­ä¿®å¤        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“ è§¦å‘Gitæ“ä½œ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       ã€Gité›†æˆæ¨¡å—ã€‘(Git Integration Module)        â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  å˜æ›´æ£€æµ‹å±‚(Change Detection)              â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  Â· detectChanges(): æ£€æµ‹å·¥ä½œåŒºå˜æ›´          â”‚   â”‚
â”‚  â”‚  Â· classifyChanges(): åˆ†ç±»å˜æ›´ç±»å‹          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Commitç”Ÿæˆå±‚(Commit Generation)           â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  Â· inferCommitType(): æ¨æ–­commitç±»å‹       â”‚   â”‚
â”‚  â”‚  Â· generateMessage(): ç”Ÿæˆcommit message    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Gitæ“ä½œå±‚(Git Operations)                 â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  Â· commit(): æ‰§è¡Œgit commit                â”‚   â”‚
â”‚  â”‚  Â· tag(): åˆ›å»º/æ¨é€ç‰ˆæœ¬Tag                 â”‚   â”‚
â”‚  â”‚  Â· rollback(): ç‰ˆæœ¬å›æ»š                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ç‰ˆæœ¬ç®¡ç†å±‚(Version Management)            â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  Â· incrementVersion(): ç‰ˆæœ¬å·é€’å¢          â”‚   â”‚
â”‚  â”‚  Â· createRelease(): åˆ›å»ºå‘å¸ƒç‰ˆæœ¬           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“ æ‰§è¡Œå‘½ä»¤
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Gitå‘½ä»¤æ‰§è¡Œ(Git CLI)                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  git status â”‚ git add â”‚ git commit â”‚ git tag        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“ æ›´æ–°çŠ¶æ€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      ã€çŠ¶æ€ç®¡ç†æ¨¡å—ã€‘(State Management Module)       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  æ›´æ–°: metadata.lastGitCommit/lastGitCommitMessage  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 æ ¸å¿ƒèŒè´£ {#arch-Gité›†æˆ-æ ¸å¿ƒèŒè´£}

**Gité›†æˆæ¨¡å—æ˜¯"ç‰ˆæœ¬è‡ªåŠ¨åŒ–æ‰§è¡Œè€…"ï¼Œä¸æ˜¯"ä¸šåŠ¡å†³ç­–è€…"**ï¼š

| èŒè´£ç±»åˆ« | å…·ä½“å†…å®¹ | éèŒè´£(ç”±å…¶ä»–æ¨¡å—è´Ÿè´£) |
|---------|---------|----------------------|
| **å˜æ›´æ£€æµ‹** | æ£€æµ‹å·¥ä½œåŒºæ–‡ä»¶å˜æ›´ | âŒ ä¸è´Ÿè´£è§¦å‘æ—¶æœºå†³ç­– |
| **Commitç”Ÿæˆ** | æ¨æ–­type/scopeå¹¶ç”Ÿæˆmessage | âŒ ä¸è´Ÿè´£ä¸šåŠ¡é€»è¾‘ |
| **Gitæ‰§è¡Œ** | æ‰§è¡Œgit add/commit/tag/push | âŒ ä¸è´Ÿè´£çŠ¶æ€æµè½¬é€»è¾‘ |
| **ç‰ˆæœ¬ç®¡ç†** | ç‰ˆæœ¬å·é€’å¢ã€åˆ›å»ºTag | âŒ ä¸è´Ÿè´£å†³å®šä½•æ—¶å‘å¸ƒ |
| **å›æ»šæ”¯æŒ** | æ‰§è¡Œgit checkoutå›æ»š | âŒ ä¸è´Ÿè´£å›æ»šå†³ç­– |

### 1.3 æ¶æ„ç‰¹ç‚¹

#### ç‰¹ç‚¹1ï¼šAIé©±åŠ¨çš„Commitç”Ÿæˆ

**è®¾è®¡ç†å¿µ**ï¼šAIæ ¹æ®å˜æ›´å†…å®¹æ™ºèƒ½æ¨æ–­commitä¿¡æ¯

```typescript
// AIæ¨æ–­commitç±»å‹
class CommitGenerator {
  inferCommitType(changes: FileChange[]): CommitType {
    // è§„åˆ™1ï¼šstate.jsonæ¨¡å—çŠ¶æ€å˜æ›´ â†’ feat
    if (this.hasModuleStatusChange(changes)) return 'feat';

    // è§„åˆ™2ï¼šæ–‡æ¡£æ–‡ä»¶å˜æ›´ â†’ docs
    if (this.hasDocChanges(changes)) return 'docs';

    // è§„åˆ™3ï¼šæµ‹è¯•æ–‡ä»¶å˜æ›´ â†’ test
    if (this.hasTestChanges(changes)) return 'test';

    // è§„åˆ™4ï¼šçƒ­ä¿®å¤æ ‡è®° â†’ hotfix
    if (this.isHotfix) return 'hotfix';

    // é»˜è®¤ï¼šchore
    return 'chore';
  }
}
```

#### ç‰¹ç‚¹2ï¼šå•åˆ†æ”¯ç­–ç•¥(Single Branch Strategy)

**è®¾è®¡ç†å¿µ**ï¼šç®€åŒ–å•äººå¼€å‘çš„Gitæµç¨‹ï¼Œæ‰€æœ‰æ“ä½œéƒ½åœ¨mainåˆ†æ”¯

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     main åˆ†æ”¯                        â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚                                                     â”‚
â”‚  v1.0.0     v1.0.1(hotfix)     v1.1.0              â”‚
â”‚    â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—                â”‚
â”‚    â”‚            â”‚                  â”‚                â”‚
â”‚  è¿­ä»£1å®Œæˆ    çƒ­ä¿®å¤             è¿­ä»£2å®Œæˆ          â”‚
â”‚                                                     â”‚
â”‚  æ— featureåˆ†æ”¯ã€æ— mergeã€æ— PRæµç¨‹                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ç‰¹ç‚¹3ï¼šè¯­ä¹‰åŒ–ç‰ˆæœ¬(Semantic Versioning)

**è®¾è®¡ç†å¿µ**ï¼šä¸¥æ ¼éµå¾ªSemVer 2.0.0è§„èŒƒ

```
vMAJOR.MINOR.PATCH

MAJOR: ä¸å…¼å®¹çš„æ¶æ„å˜æ›´ï¼ˆå¦‚é‡æ„æ ¸å¿ƒæ¨¡å—ï¼‰
MINOR: å‘åå…¼å®¹çš„æ–°åŠŸèƒ½ï¼ˆå¦‚æ–°å¢æ¨¡å—ï¼‰
PATCH: å‘åå…¼å®¹çš„Bugä¿®å¤ï¼ˆå¦‚çƒ­ä¿®å¤ï¼‰
```

---

## äºŒã€æ¨¡å—åˆ’åˆ† {#arch-Gité›†æˆ-æ¨¡å—åˆ’åˆ†}

### 2.1 å­æ¨¡å—æ¸…å•

| å­æ¨¡å— | æ–‡ä»¶ä½ç½® | èŒè´£ | ä¾èµ– |
|--------|---------|------|------|
| **ChangeDetector** | src/git/change-detector.ts | æ£€æµ‹æ–‡ä»¶å˜æ›´ | git CLI |
| **CommitGenerator** | src/git/commit-generator.ts | ç”Ÿæˆcommit message | ChangeDetector |
| **GitOperator** | src/git/git-operator.ts | æ‰§è¡Œgitå‘½ä»¤ | git CLI |
| **VersionManager** | src/git/version-manager.ts | ç‰ˆæœ¬å·ç®¡ç† | çŠ¶æ€ç®¡ç†æ¨¡å— |
| **HotfixHandler** | src/git/hotfix-handler.ts | çƒ­ä¿®å¤æµç¨‹ | GitOperator, VersionManager |

### 2.2 ç›®å½•ç»“æ„

```
src/
â””â”€â”€ git/
    â”œâ”€â”€ index.ts                 # æ¨¡å—å…¥å£ï¼Œå¯¼å‡ºå…¬å…±æ¥å£
    â”œâ”€â”€ change-detector.ts       # å˜æ›´æ£€æµ‹
    â”œâ”€â”€ commit-generator.ts      # Commitç”Ÿæˆ
    â”œâ”€â”€ git-operator.ts          # Gitæ“ä½œå°è£…
    â”œâ”€â”€ version-manager.ts       # ç‰ˆæœ¬ç®¡ç†
    â”œâ”€â”€ hotfix-handler.ts        # çƒ­ä¿®å¤å¤„ç†
    â””â”€â”€ types.ts                 # ç±»å‹å®šä¹‰
```

---

## ä¸‰ã€æ ¸å¿ƒæµç¨‹è®¾è®¡ {#arch-Gité›†æˆ-æ ¸å¿ƒæµç¨‹}

### 3.1 è‡ªåŠ¨Commitæµç¨‹

```
çŠ¶æ€å˜æ›´å®Œæˆï¼ˆå¦‚æ¨¡å—å®¡æ‰¹é€šè¿‡ï¼‰
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. æ£€æµ‹å˜æ›´                          â”‚
â”‚    git status --porcelain           â”‚
â”‚    â†’ è·å–å˜æ›´æ–‡ä»¶åˆ—è¡¨                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. åˆ†ç±»å˜æ›´                          â”‚
â”‚    Â· state.jsonå˜æ›´ â†’ çŠ¶æ€ç±»         â”‚
â”‚    Â· docs/**å˜æ›´ â†’ æ–‡æ¡£ç±»            â”‚
â”‚    Â· src/**å˜æ›´ â†’ ä»£ç ç±»             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. æ¨æ–­Commitä¿¡æ¯                    â”‚
â”‚    Â· type: feat/fix/docs/...        â”‚
â”‚    Â· scope: requirements/arch/...   â”‚
â”‚    Â· subject: ä¸­æ–‡æè¿°              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. æ‰§è¡ŒGit Commit                    â”‚
â”‚    git add [files]                  â”‚
â”‚    git commit -m "[message]"        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. æ›´æ–°state.json.metadata          â”‚
â”‚    Â· lastGitCommit: [hash]          â”‚
â”‚    Â· lastGitCommitMessage: [msg]    â”‚
â”‚    Â· lastGitCommitAt: [timestamp]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. å†æ¬¡Commit (metadataæ›´æ–°)         â”‚
â”‚    git add .solodev/state.json      â”‚
â”‚    git commit -m "chore(state):..." â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 ç‰ˆæœ¬Tagåˆ›å»ºæµç¨‹

```
è¿­ä»£å®Œæˆ + éƒ¨ç½²æˆåŠŸ
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. éªŒè¯è¿­ä»£çŠ¶æ€                      â”‚
â”‚    Â· status === "completed"         â”‚
â”‚    Â· deployedAt !== null            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. è·å–ç‰ˆæœ¬å·                        â”‚
â”‚    version = iteration.version      â”‚
â”‚    ä¾‹å¦‚: "v1.0.0"                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. åˆ›å»ºGit Tag                       â”‚
â”‚    git tag v1.0.0 -m "Release..."   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. æ¨é€Tagåˆ°è¿œç¨‹                     â”‚
â”‚    git push origin v1.0.0           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. æ›´æ–°state.json                    â”‚
â”‚    Â· iteration.gitTag = "v1.0.0"    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 çƒ­ä¿®å¤æµç¨‹

```
å‘ç°ç”Ÿäº§Bug
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. ç›´æ¥åœ¨mainåˆ†æ”¯ä¿®å¤               â”‚
â”‚    ï¼ˆæ— éœ€åˆ›å»ºhotfixåˆ†æ”¯ï¼‰            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. åˆ›å»ºHotfix Commit                 â”‚
â”‚    type: hotfix                     â”‚
â”‚    scope: prod                      â”‚
â”‚    subject: [HOTFIX] ä¿®å¤...        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. ç‰ˆæœ¬å·é€’å¢(PATCH)                 â”‚
â”‚    v1.0.0 â†’ v1.0.1                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. åˆ›å»ºHotfix Tag                    â”‚
â”‚    git tag v1.0.1 -m "[HOTFIX]..."  â”‚
â”‚    git push origin v1.0.1           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. è®°å½•åˆ°changeHistory              â”‚
â”‚    type: "hotfix"                   â”‚
â”‚    gitTag: "v1.0.1"                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.4 ç‰ˆæœ¬å›æ»šæµç¨‹

```
ç”¨æˆ·è¯·æ±‚å›æ»šåˆ°v1.0.0
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. åˆ—å‡ºå¯ç”¨ç‰ˆæœ¬                      â”‚
â”‚    git tag                          â”‚
â”‚    â†’ v1.0.0, v1.0.1, v1.1.0         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. éªŒè¯ç›®æ ‡ç‰ˆæœ¬å­˜åœ¨                  â”‚
â”‚    git rev-parse v1.0.0             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. æ‰§è¡Œå›æ»š                          â”‚
â”‚    git checkout v1.0.0              â”‚
â”‚    ï¼ˆstate.jsonåŒæ­¥å›æ»šï¼‰            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. è®°å½•å›æ»šæ“ä½œ                      â”‚
â”‚    changeHistoryæ–°å¢:               â”‚
â”‚    type: "rollback"                 â”‚
â”‚    from: "v1.1.0" â†’ to: "v1.0.0"   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. æç¤ºç”¨æˆ·é‡æ–°éƒ¨ç½²                  â”‚
â”‚    "å·²å›æ»šåˆ°v1.0.0ï¼Œè¯·æ‰§è¡Œéƒ¨ç½²"      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å››ã€å¯¹å¤–æ¥å£è®¾è®¡ {#arch-Gité›†æˆ-å¯¹å¤–æ¥å£}

### 4.1 ä¸»è¦æ¥å£

```typescript
/**
 * Gité›†æˆæ¨¡å—å…¬å…±æ¥å£
 */
interface GitIntegration {
  // å˜æ›´æ£€æµ‹
  detectChanges(): Promise<FileChange[]>;
  hasUncommittedChanges(): Promise<boolean>;

  // Commitæ“ä½œ
  commit(options: CommitOptions): Promise<CommitResult>;
  autoCommit(trigger: CommitTrigger): Promise<CommitResult>;

  // Tagæ“ä½œ
  createTag(version: string, message: string): Promise<TagResult>;
  pushTag(version: string): Promise<PushResult>;
  listTags(): Promise<string[]>;

  // ç‰ˆæœ¬ç®¡ç†
  getCurrentVersion(): Promise<string>;
  incrementVersion(type: VersionIncrementType): Promise<string>;

  // å›æ»šæ“ä½œ
  rollbackToTag(version: string): Promise<RollbackResult>;

  // çƒ­ä¿®å¤
  createHotfix(description: string): Promise<HotfixResult>;
}
```

### 4.2 ç±»å‹å®šä¹‰

```typescript
// æ–‡ä»¶å˜æ›´ä¿¡æ¯
interface FileChange {
  path: string;
  status: 'modified' | 'added' | 'deleted' | 'renamed';
  category: 'state' | 'doc' | 'code' | 'test' | 'config';
}

// Commité€‰é¡¹
interface CommitOptions {
  files?: string[];         // æŒ‡å®šæ–‡ä»¶ï¼Œé»˜è®¤å…¨éƒ¨
  type: CommitType;         // feat/fix/docs/...
  scope: string;            // requirements/architecture/...
  subject: string;          // ä¸­æ–‡æè¿°
  body?: string;            // è¯¦ç»†è¯´æ˜
  isHotfix?: boolean;       // æ˜¯å¦çƒ­ä¿®å¤
}

// Commitç±»å‹
type CommitType =
  | 'feat'      // æ–°åŠŸèƒ½
  | 'fix'       // Bugä¿®å¤
  | 'docs'      // æ–‡æ¡£æ›´æ–°
  | 'refactor'  // é‡æ„
  | 'test'      // æµ‹è¯•
  | 'chore'     // æ‚é¡¹
  | 'perf'      // æ€§èƒ½ä¼˜åŒ–
  | 'hotfix';   // çƒ­ä¿®å¤

// è‡ªåŠ¨Commitè§¦å‘æ¡ä»¶
type CommitTrigger =
  | 'module_status_change'     // æ¨¡å—çŠ¶æ€å˜æ›´
  | 'clarification_added'      // æ¾„æ¸…å†…å®¹æ–°å¢
  | 'task_status_change'       // ä»»åŠ¡çŠ¶æ€å˜æ›´
  | 'phase_transition'         // é˜¶æ®µè½¬æ¢
  | 'document_update'          // æ–‡æ¡£æ›´æ–°
  | 'deployment'               // éƒ¨ç½²æ“ä½œ
  | 'iteration_complete'       // è¿­ä»£å®Œæˆ
  | 'hotfix';                  // çƒ­ä¿®å¤

// Commitç»“æœ
interface CommitResult {
  success: boolean;
  hash?: string;              // commit hash
  message?: string;           // commit message
  error?: string;             // é”™è¯¯ä¿¡æ¯
}

// ç‰ˆæœ¬é€’å¢ç±»å‹
type VersionIncrementType = 'major' | 'minor' | 'patch';
```

---

## äº”ã€Commit Messageè§„èŒƒ {#arch-Gité›†æˆ-Commitè§„èŒƒ}

### 5.1 æ ¼å¼è§„èŒƒ

åŸºäºConventional Commits 1.0.0ï¼Œç®€åŒ–ä¸ºä¸­æ–‡ç‰ˆï¼š

```
<type>(<scope>): <subject>

[body]

[footer]
```

### 5.2 Typeå®šä¹‰

| Type | è¯´æ˜ | ä½¿ç”¨åœºæ™¯ |
|------|------|---------|
| **feat** | æ–°åŠŸèƒ½ | æ¨¡å—éœ€æ±‚å®Œæˆã€åŠŸèƒ½å®ç°å®Œæˆ |
| **fix** | Bugä¿®å¤ | ä¿®å¤å·²çŸ¥Bug |
| **docs** | æ–‡æ¡£æ›´æ–° | PRDã€æ¶æ„æ–‡æ¡£ã€CLAUDE.mdæ›´æ–° |
| **refactor** | é‡æ„ | ä»£ç é‡æ„ï¼Œä¸æ”¹å˜åŠŸèƒ½ |
| **test** | æµ‹è¯• | æ·»åŠ æˆ–ä¿®æ”¹æµ‹è¯•ç”¨ä¾‹ |
| **chore** | æ‚é¡¹ | é…ç½®å˜æ›´ã€ä¾èµ–æ›´æ–°ã€state.jsonæ›´æ–° |
| **perf** | æ€§èƒ½ä¼˜åŒ– | æ€§èƒ½ç›¸å…³æ”¹è¿› |
| **hotfix** | çƒ­ä¿®å¤ | ç”Ÿäº§ç¯å¢ƒç´§æ€¥ä¿®å¤ |

### 5.3 Scopeå®šä¹‰

| Scope | è¯´æ˜ | ç¤ºä¾‹ |
|-------|------|------|
| **requirements** | éœ€æ±‚é˜¶æ®µ | æ¨¡å—éœ€æ±‚æ¾„æ¸…å®Œæˆ |
| **architecture** | æ¶æ„é˜¶æ®µ | æ¶æ„è®¾è®¡å®Œæˆ |
| **implementation** | å®ç°é˜¶æ®µ | ä»£ç å®ç°å®Œæˆ |
| **testing** | æµ‹è¯•é˜¶æ®µ | æµ‹è¯•ç”¨ä¾‹æ·»åŠ  |
| **deployment** | éƒ¨ç½²é˜¶æ®µ | éƒ¨ç½²æ“ä½œ |
| **state** | çŠ¶æ€æ–‡ä»¶ | state.jsonæ›´æ–° |
| **guide** | è§„èŒƒæŒ‡å— | CLAUDE.mdæ›´æ–° |
| **prod** | ç”Ÿäº§ç¯å¢ƒ | çƒ­ä¿®å¤ |
| **[æ¨¡å—å]** | å…·ä½“æ¨¡å— | å¦‚"çŠ¶æ€ç®¡ç†æ¨¡å—" |

### 5.4 Commit Messageæ¨¡æ¿

```
<type>(<scope>): <subject>

- å˜æ›´å†…å®¹1
- å˜æ›´å†…å®¹2

ğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)

Co-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>
```

### 5.5 è‡ªåŠ¨æ¨æ–­è§„åˆ™

| å˜æ›´ç±»å‹ | Type | Scope | Subjectæ¨¡æ¿ |
|---------|------|-------|------------|
| æ¨¡å—çŠ¶æ€â†’approved | feat | requirements | å®Œæˆ[æ¨¡å—å]éœ€æ±‚æ¾„æ¸… |
| æ¶æ„æ–‡æ¡£æ–°å¢ | docs | architecture | å®Œæˆ[æ¨¡å—å]æ¶æ„è®¾è®¡ |
| ä»£ç å®ç°å®Œæˆ | feat | [æ¨¡å—å] | å®ç°[åŠŸèƒ½æè¿°] |
| æµ‹è¯•ç”¨ä¾‹æ·»åŠ  | test | [æµ‹è¯•ç±»å‹] | æ·»åŠ [æ¨¡å—å]æµ‹è¯•ç”¨ä¾‹ |
| éƒ¨ç½²æ“ä½œ | chore | deployment | éƒ¨ç½²åˆ°[ç¯å¢ƒ] |
| state.jsonæ›´æ–° | chore | state | æ›´æ–°Gitå…ƒæ•°æ®/çŠ¶æ€å˜æ›´ |
| çƒ­ä¿®å¤ | hotfix | prod | [HOTFIX] ä¿®å¤[é—®é¢˜æè¿°] |

---

## å…­ã€é”™è¯¯å¤„ç†è®¾è®¡ {#arch-Gité›†æˆ-é”™è¯¯å¤„ç†}

### 6.1 é”™è¯¯ç±»å‹

```typescript
// Gité›†æˆæ¨¡å—é”™è¯¯
class GitIntegrationError extends Error {
  constructor(
    public code: GitErrorCode,
    public message: string,
    public suggestions?: string[]
  ) {
    super(message);
  }
}

// é”™è¯¯ç å®šä¹‰
enum GitErrorCode {
  GIT_NOT_INITIALIZED = 'GIT_001',      // Gitæœªåˆå§‹åŒ–
  GIT_USER_NOT_CONFIGURED = 'GIT_002',  // æœªé…ç½®ç”¨æˆ·ä¿¡æ¯
  COMMIT_FAILED = 'GIT_003',            // Commitå¤±è´¥
  TAG_EXISTS = 'GIT_004',               // Tagå·²å­˜åœ¨
  TAG_NOT_FOUND = 'GIT_005',            // Tagä¸å­˜åœ¨
  PUSH_FAILED = 'GIT_006',              // Pushå¤±è´¥
  INVALID_VERSION = 'GIT_007',          // ç‰ˆæœ¬å·æ ¼å¼é”™è¯¯
  ROLLBACK_FAILED = 'GIT_008',          // å›æ»šå¤±è´¥
  NO_CHANGES = 'GIT_009',               // æ— å˜æ›´
  UNCOMMITTED_CHANGES = 'GIT_010'       // å­˜åœ¨æœªæäº¤å˜æ›´
}
```

### 6.2 é”™è¯¯å¤„ç†ç­–ç•¥

| é”™è¯¯åœºæ™¯ | å¤„ç†ç­–ç•¥ | ç”¨æˆ·æç¤º |
|---------|---------|---------|
| Gitæœªåˆå§‹åŒ– | é˜»æ–­æ“ä½œ | "è¯·å…ˆæ‰§è¡Œ git init åˆå§‹åŒ–ä»“åº“" |
| æœªé…ç½®ç”¨æˆ·ä¿¡æ¯ | é˜»æ–­æ“ä½œ | "è¯·é…ç½® git user.name å’Œ user.email" |
| Commitå¤±è´¥ | å¯é‡è¯• | "Commitå¤±è´¥ï¼š[åŸå› ]ï¼Œè¯·æ£€æŸ¥åé‡è¯•" |
| Tagå·²å­˜åœ¨ | é˜»æ–­æ“ä½œ | "Tag [version] å·²å­˜åœ¨ï¼Œè¯·æ£€æŸ¥ç‰ˆæœ¬å·" |
| Pushå¤±è´¥ | é‡è¯•3æ¬¡ | "Pushå¤±è´¥ï¼Œè¯·æ‰‹åŠ¨æ‰§è¡Œ git push" |
| ç‰ˆæœ¬å·æ ¼å¼é”™è¯¯ | é˜»æ–­æ“ä½œ | "ç‰ˆæœ¬å·æ ¼å¼é”™è¯¯ï¼Œåº”ä¸º vX.Y.Z" |

---

## ä¸ƒã€ä¸å…¶ä»–æ¨¡å—é›†æˆ {#arch-Gité›†æˆ-æ¨¡å—é›†æˆ}

### 7.1 ä¾èµ–å…³ç³»

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Gité›†æˆæ¨¡å—                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“               â†“               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ çŠ¶æ€ç®¡ç†æ¨¡å—   â”‚ â”‚ å‘½ä»¤ä½“ç³»æ¨¡å—   â”‚ â”‚ æ ¸å¿ƒæµç¨‹æ¨¡å‹  â”‚
â”‚               â”‚ â”‚               â”‚ â”‚               â”‚
â”‚ Â· è¯»å–version â”‚ â”‚ Â· è§¦å‘commit  â”‚ â”‚ Â· éªŒè¯è¿­ä»£çŠ¶æ€â”‚
â”‚ Â· æ›´æ–°metadataâ”‚ â”‚ Â· è§¦å‘tag     â”‚ â”‚               â”‚
â”‚ Â· è®°å½•history â”‚ â”‚               â”‚ â”‚               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 é›†æˆæ¥å£

**è¢«è°ƒç”¨æ¥å£ï¼ˆä¾›å…¶ä»–æ¨¡å—è°ƒç”¨ï¼‰**ï¼š

| æ¥å£ | è°ƒç”¨æ–¹ | è¯´æ˜ |
|-----|-------|------|
| `autoCommit(trigger)` | å‘½ä»¤ä½“ç³»æ¨¡å— | è‡ªåŠ¨è§¦å‘commit |
| `createTag(version, message)` | å‘½ä»¤ä½“ç³»æ¨¡å— | åˆ›å»ºç‰ˆæœ¬Tag |
| `createHotfix(description)` | å‘½ä»¤ä½“ç³»æ¨¡å— | åˆ›å»ºçƒ­ä¿®å¤ |
| `rollbackToTag(version)` | å‘½ä»¤ä½“ç³»æ¨¡å— | ç‰ˆæœ¬å›æ»š |

**ä¾èµ–æ¥å£ï¼ˆè°ƒç”¨å…¶ä»–æ¨¡å—ï¼‰**ï¼š

| æ¥å£ | æä¾›æ–¹ | è¯´æ˜ |
|-----|-------|------|
| `readState()` | çŠ¶æ€ç®¡ç†æ¨¡å— | è¯»å–å½“å‰ç‰ˆæœ¬å· |
| `updateGitMetadata(hash, message)` | çŠ¶æ€ç®¡ç†æ¨¡å— | æ›´æ–°Gitå…ƒæ•°æ® |
| `addChangeHistory(entry)` | çŠ¶æ€ç®¡ç†æ¨¡å— | è®°å½•å˜æ›´å†å² |

---

## å…«ã€é…ç½®è®¾è®¡

### 8.1 æ¨¡å—é…ç½®

```typescript
interface GitConfig {
  // è‡ªåŠ¨æ¨é€é…ç½®
  autoPush: boolean;              // æ˜¯å¦è‡ªåŠ¨pushï¼Œé»˜è®¤false
  pushRetryCount: number;         // pushé‡è¯•æ¬¡æ•°ï¼Œé»˜è®¤3

  // Commité…ç½®
  includeCoAuthor: boolean;       // æ˜¯å¦åŒ…å«Co-Authorï¼Œé»˜è®¤true
  coAuthorName: string;           // Co-Authoråç§°
  coAuthorEmail: string;          // Co-Authoré‚®ç®±

  // ç‰ˆæœ¬é…ç½®
  versionPrefix: string;          // ç‰ˆæœ¬å‰ç¼€ï¼Œé»˜è®¤"v"

  // çƒ­ä¿®å¤é…ç½®
  hotfixPrefix: string;           // çƒ­ä¿®å¤å‰ç¼€ï¼Œé»˜è®¤"[HOTFIX]"
}
```

### 8.2 é»˜è®¤é…ç½®

```typescript
const DEFAULT_GIT_CONFIG: GitConfig = {
  autoPush: false,
  pushRetryCount: 3,
  includeCoAuthor: true,
  coAuthorName: 'Claude Opus 4.5',
  coAuthorEmail: 'noreply@anthropic.com',
  versionPrefix: 'v',
  hotfixPrefix: '[HOTFIX]'
};
```

---

## ä¹ã€éåŠŸèƒ½éœ€æ±‚å®ç°

### 9.1 æ€§èƒ½è¦æ±‚

| æŒ‡æ ‡ | è¦æ±‚ | å®ç°æ–¹å¼ |
|-----|------|---------|
| Git commitæ—¶é—´ | < 2ç§’ | ä»…æ·»åŠ å˜æ›´æ–‡ä»¶ï¼Œé¿å…git add . |
| Git pushæ—¶é—´ | < 10ç§’ | å¼‚æ­¥æ‰§è¡Œï¼Œä¸é˜»å¡ä¸»æµç¨‹ |
| Tagåˆ›å»ºæ—¶é—´ | < 1ç§’ | æœ¬åœ°æ“ä½œ |

### 9.2 å¯é æ€§è¦æ±‚

| è¦æ±‚ | å®ç°æ–¹å¼ |
|-----|---------|
| å®¹é”™æ€§ | Gitå¤±è´¥ä¸å½±å“state.json |
| æ•°æ®ä¸€è‡´æ€§ | å…ˆcommitå†æ›´æ–°metadata |
| å¯æ¢å¤æ€§ | å¤±è´¥åå¯é‡æ–°æ‰§è¡Œ |

### 9.3 æ—¥å¿—è®°å½•

```typescript
// æ—¥å¿—æ ¼å¼
interface GitLog {
  timestamp: string;
  operation: 'commit' | 'tag' | 'push' | 'rollback';
  command: string;
  result: 'success' | 'failure';
  details?: string;
  error?: string;
}
```

---

**æ–‡æ¡£ç‰ˆæœ¬å†å²**

| ç‰ˆæœ¬ | æ—¥æœŸ | ä¿®æ”¹å†…å®¹ | ä¿®æ”¹äºº |
|-----|------|---------|-------|
| v1.0 | 2025-12-15 | åˆå§‹ç‰ˆæœ¬ | Claude AI |
