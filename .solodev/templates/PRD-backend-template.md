# [项目名称] - 产品需求文档

> **版本**: v1.0
> **日期**: YYYY-MM-DD
> **状态**: 需求确认中 / 已确认 / 已实现

---

## 一、产品愿景

### 1.1 一句话描述

[简洁描述产品核心价值，不超过20字]

### 1.2 核心定位

| 维度         | 定义                                    |
| ------------ | --------------------------------------- |
| **产品类型** | [CLI工具 / API服务 / 中间件 / SDK]     |
| **目标平台** | [运行环境：Node.js / Python / Go / ...] |
| **用户定位** | [目标用户群体]                          |
| **核心价值** | [解决什么问题，提供什么价值]            |

### 1.3 技术定位（后端项目特有）

- **部署方式**：[本地安装 / 云服务 / 容器化]
- **集成方式**：[CLI命令 / SDK / HTTP API / 消息队列]
- **数据持久化**：[文件系统 / 数据库 / 缓存]

---

## 二、目标用户

### 2.1 用户画像

```yaml
名称: [用户类型名称]

典型特征:
  - [特征1]
  - [特征2]
  - [特征3]

典型场景:
  - [场景1]
  - [场景2]

核心诉求:
  - [诉求1]
  - [诉求2]
```

### 2.2 用户痛点

| 痛点          | 描述           | 影响           | 解决方案       |
| ------------- | -------------- | -------------- | -------------- |
| **P1: [名称]** | [痛点描述]     | [影响]         | [解决方案]     |
| **P2: [名称]** | [痛点描述]     | [影响]         | [解决方案]     |
| **P3: [名称]** | [痛点描述]     | [影响]         | [解决方案]     |

---

## 三、功能架构

### 3.1 系统架构图

```
[架构图或架构描述，使用 ASCII 图或引用架构文档]

完整架构设计详见：docs/architecture/iteration-X/系统架构.md
```

### 3.2 模块划分

| 模块名        | 职责               | 实现方式           |
| ------------- | ------------------ | ------------------ |
| **[模块1]**   | [职责描述]         | [技术实现]         |
| **[模块2]**   | [职责描述]         | [技术实现]         |
| **[模块3]**   | [职责描述]         | [技术实现]         |

---

## 四、核心功能设计

### 4.1 命令/接口清单

#### [根据项目类型选择：CLI工具 或 API服务]

**CLI 工具项目** - 命令清单

| 命令                      | 描述                           | 详细设计文档                          |
| ------------------------- | ------------------------------ | ------------------------------------- |
| `/command1 <args>`        | [一句话描述]                   | docs/architecture/iteration-X/命令设计.md |
| `/command2 <args>`        | [一句话描述]                   | docs/architecture/iteration-X/命令设计.md |
| `/command3 <args>`        | [一句话描述]                   | docs/architecture/iteration-X/命令设计.md |

**完整命令清单详见**：docs/architecture/iteration-X/命令设计.md

---

**API 服务项目** - 接口清单

| 接口                  | 方法   | 描述               | 详细设计文档                      |
| --------------------- | ------ | ------------------ | --------------------------------- |
| `/api/resource`       | POST   | 创建资源           | docs/architecture/iteration-X/API设计.md |
| `/api/resource/:id`   | GET    | 查询资源           | docs/architecture/iteration-X/API设计.md |
| `/api/resource/:id`   | PUT    | 更新资源           | docs/architecture/iteration-X/API设计.md |
| `/api/resource/:id`   | DELETE | 删除资源           | docs/architecture/iteration-X/API设计.md |

**完整接口设计详见**：docs/architecture/iteration-X/API设计.md

### 4.2 数据模型

#### 核心数据结构（概览）

**[主要数据文件/表名]** - [用途描述]

```json
{
  "[字段1]": "[类型]",
  "[字段2]": "[类型]",
  "[字段3]": { /* 嵌套结构 */ }
}
```

**关键字段说明**：

| 字段名      | 类型     | 说明                   | 必填 |
| ----------- | -------- | ---------------------- | ---- |
| `[字段1]`   | string   | [说明]                 | 是   |
| `[字段2]`   | number   | [说明]                 | 否   |
| `[字段3]`   | object   | [说明]                 | 是   |

**完整数据模型详见**：docs/architecture/iteration-X/数据模型设计.md

### 4.3 核心工作流

```
[核心业务流程描述，使用流程图或文字描述]

完整工作流设计详见：docs/architecture/iteration-X/工作流设计.md
```

---

## 五、用户故事与验收标准

### 5.1 用户故事清单

#### 用户视角（面向最终用户）

**故事 1：[功能名称]**
```
作为[角色]，我想[功能]，以便[价值]。

验收标准：
  - [ ] [标准1]
  - [ ] [标准2]
  - [ ] [标准3]
```

**故事 2：[功能名称]**
```
作为[角色]，我想[功能]，以便[价值]。

验收标准：
  - [ ] [标准1]
  - [ ] [标准2]
```

#### 系统视角（面向功能模块）

**故事 3：[系统能力]**
```
作为系统，我需要[能力]，以便[目的]。

验收标准：
  - [ ] [标准1]
  - [ ] [标准2]
  - [ ] [标准3]
```

### 5.2 边界条件与异常处理（后端项目重点）

| 场景                 | 期望行为               | 错误处理               |
| -------------------- | ---------------------- | ---------------------- |
| **参数错误**         | [行为描述]             | [错误码 + 错误提示]    |
| **权限不足**         | [行为描述]             | [错误码 + 错误提示]    |
| **资源不存在**       | [行为描述]             | [错误码 + 错误提示]    |
| **并发冲突**         | [行为描述]             | [错误码 + 错误提示]    |
| **系统异常**         | [行为描述]             | [错误码 + 错误提示]    |

---

## 六、非功能需求（可选章节）

### 6.1 性能要求

| 指标             | 要求                   | 备注               |
| ---------------- | ---------------------- | ------------------ |
| **响应时间**     | [如 < 200ms]           | [说明]             |
| **并发能力**     | [如 支持100并发]       | [说明]             |
| **吞吐量**       | [如 1000 req/s]        | [说明]             |

### 6.2 可靠性要求

- **容错性**：[如何处理错误]
- **数据一致性**：[如何保证数据一致性]
- **可恢复性**：[崩溃后如何恢复]

### 6.3 可维护性要求

- **日志**：[日志级别、日志内容]
- **监控**：[监控指标、告警机制]
- **可测试性**：[测试覆盖率要求]

### 6.4 安全性要求（如适用）

- **认证**：[认证方式]
- **授权**：[权限控制]
- **数据加密**：[加密方案]

---

## 七、技术约束与依赖（可选章节）

### 7.1 技术栈要求

- **语言/框架**：[如 Node.js + TypeScript]
- **依赖库**：[关键依赖]
- **基础设施**：[数据库、缓存、消息队列等]

### 7.2 兼容性要求

- **运行环境**：[如 Node.js >= 18.0]
- **操作系统**：[如 支持 Windows/macOS/Linux]
- **向后兼容**：[版本兼容性要求]

---

## 八、迭代规划（可选章节）

### 8.1 Iteration 1 (MVP)

- **目标**：[迭代目标]
- **功能范围**：[模块1, 模块2]
- **验收标准**：[核心标准]

### 8.2 Iteration 2

- **目标**：[迭代目标]
- **功能范围**：[模块3, 模块4]
