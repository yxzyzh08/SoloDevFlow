# é¡¹ç›®çŠ¶æ€ç®¡ç†æŒ‡å—ï¼ˆProject State Managementï¼‰

> æœ¬æŒ‡å—è¯¦ç»†è¯´æ˜å¦‚ä½•ä½¿ç”¨state.jsonå’Œstate_his.jsonç®¡ç†é¡¹ç›®çŠ¶æ€

---

## ä¸€ã€æ ¸å¿ƒç†å¿µ

æœ¬é¡¹ç›®é‡‡ç”¨ **AI è¶…çº§ä¸ªä½“å¼€å‘åŠ©æ‰‹** çš„æ–¹æ³•è®ºï¼Œæ ¸å¿ƒç‰¹ç‚¹ï¼š

- **æŒç»­æ€§**ï¼šéœ€æ±‚æ¾„æ¸…ã€æ¶æ„è®¾è®¡ç­‰é˜¶æ®µå¯è·¨å¤šæ¬¡ä¼šè¯è¿›è¡Œ
- **å¯ä¸­æ–­**ï¼šéšæ—¶ä¸­æ–­ï¼Œä¸‹æ¬¡æ¢å¤æ—¶ AI èƒ½å¤ŸçŸ¥é“ä¸Šæ¬¡è¿›åº¦
- **å¯æ¢å¤**ï¼šåŸºäº state.json æ¢å¤ä¸Šä¸‹æ–‡ï¼Œç»§ç»­å·¥ä½œ

---

## äºŒã€state.json çš„ä½œç”¨

**æ–‡ä»¶è·¯å¾„**ï¼š`.solodev/state.json`

**æ ¸å¿ƒèŒè´£**ï¼š
1. **è®°å½•é¡¹ç›®çŠ¶æ€**ï¼šå½“å‰è¿­ä»£ã€å½“å‰é˜¶æ®µã€å½“å‰æ¨¡å—çš„çŠ¶æ€
2. **è®°å½•æ¾„æ¸…è¿›åº¦**ï¼šå“ªäº›æ¨¡å—å·²å®Œæˆæ¾„æ¸…ã€å“ªäº›æ¨¡å—å¾…æ¾„æ¸…
3. **è®°å½•å¾…åŠä»»åŠ¡**ï¼šéœ€æ±‚å˜æ›´åç”Ÿæˆçš„å¾…åŠä»»åŠ¡åˆ—è¡¨
4. **è®°å½•ä¾èµ–å…³ç³»**ï¼šæ¨¡å—é—´çš„ä¾èµ–å…³ç³»å’Œé›†æˆç‚¹
5. **è®°å½•å˜æ›´å†å²**ï¼šæ‰€æœ‰çŠ¶æ€å˜æ›´çš„å†å²è®°å½•

---

## ä¸‰ã€ä½¿ç”¨æ–¹å¼

### æ¯æ¬¡ä¼šè¯å¼€å§‹æ—¶

**æ­¥éª¤1**ï¼šè¯»å– `.solodev/state.json`

```bash
# ä½¿ç”¨ Read å·¥å…·è¯»å–
Read file_path=".solodev/state.json"
```

**æ­¥éª¤2**ï¼šåˆ†æå½“å‰çŠ¶æ€

```
æ£€æŸ¥ä»¥ä¸‹å­—æ®µï¼š
- currentIterationï¼šå½“å‰è¿­ä»£
- currentPhaseï¼šå½“å‰é˜¶æ®µï¼ˆrequirements/architecture/implementation/testing/deploymentï¼‰
- phases.requirements.currentProcessï¼šéœ€æ±‚åˆ†æçš„å½“å‰è¿›åº¦
  - currentModuleï¼šæ­£åœ¨æ¾„æ¸…çš„æ¨¡å—
  - completedModulesï¼šå·²å®Œæˆçš„æ¨¡å—
  - remainingModulesï¼šå¾…æ¾„æ¸…çš„æ¨¡å—
  - nextActionï¼šå»ºè®®çš„ä¸‹ä¸€æ­¥è¡ŒåŠ¨
```

**æ­¥éª¤3**ï¼šä¸»åŠ¨æç¤ºç”¨æˆ·

```
ç¤ºä¾‹ï¼š
"ä¸Šæ¬¡æˆ‘ä»¬å®Œæˆäº† [æ ¸å¿ƒæµç¨‹æ¨¡å‹ã€çŠ¶æ€ç®¡ç†æ¨¡å—ã€å‘½ä»¤ä½“ç³»æ¨¡å—] çš„éœ€æ±‚æ¾„æ¸…ã€‚
å¾…æ¾„æ¸…æ¨¡å—è¿˜æœ‰ï¼š[æ–‡æ¡£æ¨¡æ¿æ¨¡å—ã€å½±å“åˆ†ææ¨¡å—ã€æµ‹è¯•éªŒè¯æ¨¡å—...]
å»ºè®®ä¸‹ä¸€æ­¥ï¼šç»§ç»­æ¾„æ¸…æ–‡æ¡£æ¨¡æ¿æ¨¡å—ï¼ˆä¼˜å…ˆçº§ï¼šP0ï¼‰

æ˜¯å¦ç»§ç»­ï¼Ÿæˆ–è€…æ‚¨æƒ³è°ƒæ•´ä¼˜å…ˆçº§ï¼Ÿ"
```

### éœ€æ±‚æ¾„æ¸…è¿‡ç¨‹ä¸­

**æ¯å®Œæˆä¸€ä¸ªæ¨¡å—çš„æ¾„æ¸…ï¼Œç«‹å³æ›´æ–° state.json**ï¼š

```json
{
  "phases": {
    "requirements": {
      "modules": {
        "æ–‡æ¡£æ¨¡æ¿æ¨¡å—": {
          "status": "approved",  // ä» pending æ”¹ä¸º approved
          "approvedAt": "2025-12-13T17:00:00Z",
          "artifacts": ["..."],
          "reviewer": "human"
        }
      },
      "currentProcess": {
        "completedModules": ["æ ¸å¿ƒæµç¨‹æ¨¡å‹", "çŠ¶æ€ç®¡ç†æ¨¡å—", "å‘½ä»¤ä½“ç³»æ¨¡å—", "æ–‡æ¡£æ¨¡å—"],
        "remainingModules": ["å½±å“åˆ†ææ¨¡å—", "æµ‹è¯•éªŒè¯æ¨¡å—", "Gité›†æˆæ¨¡å—", "ä¾èµ–ç®¡ç†æ¨¡å—"],
        "nextAction": "ç»§ç»­æ¾„æ¸…å½±å“åˆ†ææ¨¡å—"
      }
    }
  }
}
```

**ç„¶å Git commit**ï¼š

```bash
git add .solodev/state.json
git commit -m "state: å®Œæˆæ–‡æ¡£æ¨¡æ¿æ¨¡å—éœ€æ±‚æ¾„æ¸…"
```

### ä¼šè¯ç»“æŸæ—¶

**æ›´æ–° metadata**ï¼š

```json
{
  "metadata": {
    "lastGitCommit": "abc123",
    "lastGitCommitMessage": "state: å®Œæˆæ–‡æ¡£æ¨¡æ¿æ¨¡å—éœ€æ±‚æ¾„æ¸…",
    "lastGitCommitAt": "2025-12-13T17:00:00Z",
    "stateFileVersion": 2,
    "totalStateChanges": 2
  }
}
```

---

## å››ã€å…³é”®å­—æ®µè¯´æ˜

| å­—æ®µè·¯å¾„                                  | è¯´æ˜                                                 |
| ----------------------------------------- | ---------------------------------------------------- |
| `currentIteration`                        | å½“å‰è¿­ä»£ IDï¼ˆå¦‚ "iteration-1"ï¼‰                      |
| `currentPhase`                            | å½“å‰é˜¶æ®µï¼ˆrequirements/architecture/...ï¼‰            |
| `phases.requirements.status`              | éœ€æ±‚åˆ†æé˜¶æ®µçŠ¶æ€ï¼ˆin_progress/approved/...ï¼‰         |
| `phases.requirements.modules[name]`       | æ¨¡å—çŠ¶æ€ï¼ˆpending/partially_clarified/approvedï¼‰     |
| `modules[name].pendingQuestions`          | è¯¥æ¨¡å—å¾…æ¾„æ¸…çš„é—®é¢˜åˆ—è¡¨                               |
| `currentProcess.currentModule`            | æ­£åœ¨æ¾„æ¸…çš„æ¨¡å—                                       |
| `currentProcess.nextAction`               | å»ºè®®çš„ä¸‹ä¸€æ­¥è¡ŒåŠ¨                                     |
| `globalTasks.pending`                     | å¾…åŠä»»åŠ¡åˆ—è¡¨                                         |
| `moduleDependencies`                      | æ¨¡å—ä¾èµ–å…³ç³»ï¼ˆç”¨äºå½±å“åˆ†æå’Œå¹¶è¡Œæ§åˆ¶ï¼‰               |

---

## äº”ã€å®è·µåŸåˆ™

### 1. æ¯æ¬¡ä¼šè¯å¼€å§‹å¿…è¯»

```
âœ… æ­£ç¡®åšæ³•ï¼š
ç”¨æˆ·: "ç»§ç»­éœ€æ±‚æ¾„æ¸…"
AI: [å…ˆè¯»å– state.json] â†’ "ä¸Šæ¬¡æˆ‘ä»¬å®Œæˆäº†...ï¼Œç»§ç»­æ¾„æ¸…æ–‡æ¡£æ¨¡æ¿æ¨¡å—å—ï¼Ÿ"

âŒ é”™è¯¯åšæ³•ï¼š
ç”¨æˆ·: "ç»§ç»­éœ€æ±‚æ¾„æ¸…"
AI: "æ‚¨æƒ³æ¾„æ¸…å“ªä¸ªæ¨¡å—ï¼Ÿ" (æ²¡æœ‰è¯»å–ä¸Šæ¬¡è¿›åº¦)
```

### 2. åŠæ—¶æ›´æ–°çŠ¶æ€

```
âœ… æ­£ç¡®åšæ³•ï¼š
- å®Œæˆä¸€ä¸ªæ¨¡å—æ¾„æ¸… â†’ ç«‹å³æ›´æ–° state.json â†’ Git commit
- çŠ¶æ€å˜æ›´å…·æœ‰åŸå­æ€§

âŒ é”™è¯¯åšæ³•ï¼š
- å®Œæˆå¤šä¸ªæ¨¡å—åæ‰ä¸€æ¬¡æ€§æ›´æ–°ï¼ˆå¯èƒ½ä¼šè¯ä¸­æ–­å¯¼è‡´çŠ¶æ€ä¸¢å¤±ï¼‰
```

### 3. æä¾›æ¸…æ™°çš„ä¸Šä¸‹æ–‡

```
âœ… æ­£ç¡®åšæ³•ï¼š
"æ ¹æ® state.jsonï¼Œæ‚¨ä¸Šæ¬¡æ¾„æ¸…åˆ° [å…·ä½“å†…å®¹]ï¼Œ
å¾…åŠä»»åŠ¡è¿˜æœ‰ [åˆ—è¡¨]ï¼Œ
å»ºè®®ä¸‹ä¸€æ­¥ [å…·ä½“è¡ŒåŠ¨]"

âŒ é”™è¯¯åšæ³•ï¼š
"ç»§ç»­å·¥ä½œå§"ï¼ˆæ²¡æœ‰æä¾›ä¸Šä¸‹æ–‡ï¼‰
```

---

## å…­ã€ç‰¹æ®Šåœºæ™¯å¤„ç†

### åœºæ™¯1ï¼šstate.json ä¸å­˜åœ¨

```
è¯´æ˜ï¼šé¡¹ç›®åˆšåˆå§‹åŒ–
è¡ŒåŠ¨ï¼šæç¤ºç”¨æˆ·å…ˆæ‰§è¡Œ /init å‘½ä»¤åˆå§‹åŒ–é¡¹ç›®
```

### åœºæ™¯2ï¼šstate.json æŸå

```
è¯´æ˜ï¼šJSON æ ¼å¼é”™è¯¯
è¡ŒåŠ¨ï¼š
  1. æç¤ºç”¨æˆ·æ£€æŸ¥ JSON æ ¼å¼
  2. æä¾›ä¿®å¤å»ºè®®
  3. æˆ–è€…åŸºäº Git å†å²æ¢å¤ä¸Šä¸€ä¸ªç‰ˆæœ¬
```

### åœºæ™¯3ï¼šéœ€æ±‚å˜æ›´å¯¼è‡´çŠ¶æ€å›æ»š

```
è¯´æ˜ï¼šæµ‹è¯•é˜¶æ®µå‘ç°éœ€æ±‚é—®é¢˜ï¼Œéœ€è¦å›æ»šåˆ°éœ€æ±‚åˆ†æé˜¶æ®µ
è¡ŒåŠ¨ï¼š
  1. æ›´æ–° currentPhase = "requirements"
  2. æ›´æ–°å—å½±å“æ¨¡å—çš„ status = "in_progress"
  3. è®°å½•å›æ»šåŸå› åˆ° changeHistory
  4. ç”Ÿæˆå¾…åŠä»»åŠ¡åˆ° globalTasks.pending
  5. Git commit è®°å½•å˜æ›´
```

---

## ä¸ƒã€çŠ¶æ€æ–‡ä»¶æ‹†åˆ†ï¼šstate.json + state_his.json

### æ‹†åˆ†ç›®çš„

ä¸ºé¿å…state.jsonéšç€é¡¹ç›®æ¼”è¿›å†…å®¹çˆ†ç‚¸ï¼Œå°†çŠ¶æ€ç®¡ç†æ‹†åˆ†ä¸ºä¸¤ä¸ªæ–‡ä»¶ï¼š

- **state.json**ï¼šä¿ç•™å½“å‰è¿­ä»£çš„å®Œæ•´ä¿¡æ¯ï¼ˆè½»é‡çº§ï¼Œ< 100KBï¼‰
- **state_his.json**ï¼šä¿å­˜å·²å®Œæˆè¿­ä»£çš„å†å²æ•°æ®ï¼ˆå½’æ¡£ï¼‰

### state.json ç»“æ„ï¼ˆå½“å‰è¿­ä»£ï¼‰

**ä¿ç•™å†…å®¹**ï¼š
```json
{
  "schema_version": "1.0.0",
  "project": { "name": "...", "description": "..." },
  "currentIteration": "iteration-1",
  "iterations": {
    "iteration-1": {
      "id": "iteration-1",
      "version": "v1.0",
      "status": "in_progress",
      "phases": { ... }
    }
  },
  "moduleDependencies": { ... },
  "globalTasks": {
    "pending": [...],
    "completed": [...]  // ä»…å½“å‰è¿­ä»£
  },
  "changeHistory": [...],  // ä»…å½“å‰è¿­ä»£
  "settings": { "autoReadHistory": true },
  "metadata": { ... }
}
```

**ä¸ä¿ç•™å†…å®¹**ï¼ˆå·²è¿ç§»åˆ°state_his.jsonï¼‰ï¼š
- å·²å®Œæˆçš„è¿­ä»£
- å·²å®Œæˆè¿­ä»£çš„taskså’ŒchangeHistory

### state_his.json ç»“æ„ï¼ˆå†å²è¿­ä»£ï¼‰

**æ–‡ä»¶è·¯å¾„**ï¼š`.solodev/state_his.json`

```json
{
  "schema_version": "1.0.0",
  "completedIterations": {
    "iteration-0": {
      "id": "iteration-0",
      "version": "v0.1",
      "status": "completed",
      "completedAt": "2025-12-01T00:00:00Z",
      "gitTag": "v0.1",
      "phases": { ... },
      "tasks": [ ... ],
      "changeHistory": [ ... ],
      "summary": "å®Œæˆé¡¹ç›®åˆå§‹åŒ–"
    }
  }
}
```

### æ•°æ®è¿ç§»æµç¨‹

**è¿ç§»æ—¶æœº**ï¼šè¿­ä»£å®Œæˆå¹¶æˆåŠŸéƒ¨ç½²å

**è§¦å‘æ¡ä»¶**ï¼š
```javascript
iterations[currentIteration].status === "completed"
  && iterations[currentIteration].deployedAt !== null
```

**è¿ç§»æ­¥éª¤**ï¼š
1. è¯»å–state.jsonå’Œstate_his.json
2. æå–å½“å‰è¿­ä»£å®Œæ•´æ•°æ®ï¼ˆphases + tasks + changeHistoryï¼‰
3. æ„é€ å®Œæ•´è¿­ä»£å¯¹è±¡å†™å…¥state_his.json
4. æ¸…ç©ºstate.jsonä¸­çš„å½“å‰è¿­ä»£æ•°æ®
5. Git commitè®°å½•è¿ç§»

### å†å²æ•°æ®è®¿é—®è§„åˆ™

**åœºæ™¯1ï¼šå½“å‰è¿­ä»£åˆ†æï¼ˆ90%ï¼‰**
- åªè¯»state.json
- æ— éœ€è¯»å–state_his.json

**åœºæ™¯2ï¼šè·¨è¿­ä»£å¯¹æ¯”ï¼ˆ8%ï¼‰**
- è‡ªåŠ¨è¯»å–state.json + state_his.json
- è§¦å‘æ¡ä»¶ï¼šç”¨æˆ·æ˜ç¡®æåˆ°"å¯¹æ¯”"ã€"å†å²"ã€"iteration-X"

**åœºæ™¯3ï¼šé•¿æœŸè¶‹åŠ¿åˆ†æï¼ˆ2%ï¼‰**
- è¯»å–state_his.json
- è§¦å‘æ¡ä»¶ï¼šç”¨æˆ·è¦æ±‚"è¶‹åŠ¿"ã€"ç»Ÿè®¡"ã€"è¿‡å»Xä¸ªè¿­ä»£"

**å¯é…ç½®è¡Œä¸º**ï¼š
- `settings.autoReadHistory = true`ï¼šè‡ªåŠ¨è¯»å–
- `settings.autoReadHistory = false`ï¼šæ€»æ˜¯å…ˆæç¤ºç”¨æˆ·

---

## å…«ã€å‘½ä»¤è¡Œä½¿ç”¨

### å¿«é€ŸæŸ¥çœ‹é¡¹ç›®çŠ¶æ€

**å‘½ä»¤**ï¼š
```bash
npm run solodev status
```

**åŠŸèƒ½**ï¼š
- æ˜¾ç¤ºé¡¹ç›®åç§°ã€ç‰ˆæœ¬ã€å½“å‰è¿­ä»£
- æ˜¾ç¤ºå½“å‰é˜¶æ®µå’Œé˜¶æ®µçŠ¶æ€
- æ˜¾ç¤ºæ¨¡å—è¿›åº¦ï¼ˆå·²å®Œæˆ/æ€»æ•°ï¼‰
- åˆ—å‡ºæ‰€æœ‰æ¨¡å—çš„è¯¦ç»†çŠ¶æ€
- æä¾›ä¸‹ä¸€æ­¥è¡ŒåŠ¨å»ºè®®

**ä½¿ç”¨åœºæ™¯**ï¼š

1. **ä¼šè¯å¼€å§‹æ—¶**ï¼šå¿«é€Ÿäº†è§£é¡¹ç›®å½“å‰çŠ¶æ€
2. **æ¨¡å—åˆ‡æ¢å‰**ï¼šç¡®è®¤å½“å‰æ¨¡å—å’Œè¿›åº¦
3. **ä¸ç¡®å®šçŠ¶æ€æ—¶**ï¼šéšæ—¶æŸ¥çœ‹æœ€æ–°çŠ¶æ€

**ç¤ºä¾‹è¾“å‡º**ï¼š
```
âœ… æˆåŠŸ

é¡¹ç›®çŠ¶æ€æŠ¥å‘Š
====================
é¡¹ç›®: AIè¶…çº§ä¸ªä½“å¼€å‘åŠ©æ‰‹
ç‰ˆæœ¬: v1.0.0
å½“å‰è¿­ä»£: iteration-1
å½“å‰é˜¶æ®µ: implementation
é˜¶æ®µçŠ¶æ€: in_progress
æ¨¡å—è¿›åº¦: 1/3

æ¨¡å—è¯¦æƒ…:
  - çŠ¶æ€ç®¡ç†æ¨¡å—: completed
  - æ–‡æ¡£æ¨¡æ¿æ¨¡å—: partial
  - å‘½ä»¤ä½“ç³»æ¨¡å—: pending

ğŸ’¡ ä¸‹ä¸€æ­¥å»ºè®®:
æœ‰å·²å®Œæˆçš„æ¨¡å—ç­‰å¾…å®¡æ‰¹ï¼Œä½¿ç”¨ /approve <æ¨¡å—å> è¿›è¡Œå®¡æ‰¹
```

**ä¸ç›´æ¥è¯»å–state.jsonçš„åŒºåˆ«**ï¼š

| æ–¹å¼ | ä¼˜åŠ¿ | ä½¿ç”¨åœºæ™¯ |
|------|------|----------|
| **npm run solodev status** | å¿«é€Ÿã€æ ¼å¼åŒ–è¾“å‡ºã€ä¸‹ä¸€æ­¥å»ºè®® | å¿«é€ŸæŸ¥çœ‹æ¦‚è§ˆ |
| **ç›´æ¥è¯»å–state.json** | å®Œæ•´ä¿¡æ¯ã€å¯æ·±å…¥åˆ†æ | éœ€è¦è¯¦ç»†å­—æ®µæˆ–å¤æ‚åˆ†æ |

**æœ€ä½³å®è·µ**ï¼š
- âœ… ä¼šè¯å¼€å§‹æ—¶å…ˆç”¨å‘½ä»¤æŸ¥çœ‹æ¦‚è§ˆ
- âœ… éœ€è¦è¯¦ç»†åˆ†ææ—¶å†è¯»å–state.json
- âœ… å‘½ä»¤å’Œç›´æ¥è¯»å–ç›¸äº’è¡¥å……ï¼Œä¸æ˜¯æ›¿ä»£å…³ç³»

### æ‰€æœ‰å¯ç”¨å‘½ä»¤

#### 1. é¡¹ç›®åˆå§‹åŒ–

```bash
npm run solodev init <é¡¹ç›®å> [--description <æè¿°>]
```

**åŠŸèƒ½**ï¼šåˆ›å»ºåˆå§‹state.jsonæ–‡ä»¶
**å‰ç½®æ¡ä»¶**ï¼šstate.jsonä¸å­˜åœ¨
**ä½¿ç”¨æ—¶æœº**ï¼šæ–°é¡¹ç›®å¼€å§‹æ—¶

#### 2. é˜¶æ®µå¼€å§‹å‘½ä»¤

```bash
npm run solodev start-requirements      # å¼€å§‹éœ€æ±‚é˜¶æ®µ
npm run solodev start-architecture      # å¼€å§‹æ¶æ„é˜¶æ®µ
npm run solodev start-implementation    # å¼€å§‹å®ç°é˜¶æ®µ
npm run solodev start-testing          # å¼€å§‹æµ‹è¯•é˜¶æ®µ
npm run solodev start-deployment       # å¼€å§‹éƒ¨ç½²é˜¶æ®µ
```

**åŠŸèƒ½**ï¼šæ›´æ–°currentPhaseï¼Œè®¾ç½®é˜¶æ®µçŠ¶æ€ä¸ºin_progress
**å‰ç½®æ¡ä»¶**ï¼šä¸Šä¸€é˜¶æ®µå·²å®¡æ‰¹ï¼ˆé™¤requirementså¤–ï¼‰
**ä½¿ç”¨æ—¶æœº**ï¼šä¸Šä¸€é˜¶æ®µå®¡æ‰¹é€šè¿‡å

#### 3. å®¡æ‰¹å‘½ä»¤

```bash
npm run solodev approve                 # å®¡æ‰¹å½“å‰é˜¶æ®µ
npm run solodev approve <é˜¶æ®µå>         # å®¡æ‰¹æŒ‡å®šé˜¶æ®µ
npm run solodev approve <æ¨¡å—å>         # å®¡æ‰¹æŒ‡å®šæ¨¡å—
```

**åŠŸèƒ½**ï¼šæ›´æ–°çŠ¶æ€ä¸ºapprovedï¼Œè®°å½•å®¡æ‰¹æ—¶é—´å’Œå®¡æ‰¹äºº
**ä½¿ç”¨æ—¶æœº**ï¼š
- é˜¶æ®µå®Œæˆåå®¡æ‰¹æ•´ä¸ªé˜¶æ®µ
- æ¨¡å—å®Œæˆåå®¡æ‰¹å•ä¸ªæ¨¡å—

#### 4. å›æ»šå‘½ä»¤

```bash
npm run solodev rollback <ç›®æ ‡é˜¶æ®µ> <åŸå› >
```

**ç¤ºä¾‹**ï¼š
```bash
npm run solodev rollback requirements "å‘ç°éœ€æ±‚é—æ¼"
npm run solodev rollback architecture "æ¶æ„è®¾è®¡å­˜åœ¨é—®é¢˜"
```

**åŠŸèƒ½**ï¼šé‡ç½®ç›®æ ‡é˜¶æ®µåŠä¹‹åæ‰€æœ‰é˜¶æ®µçŠ¶æ€
**å‰ç½®æ¡ä»¶**ï¼šç›®æ ‡é˜¶æ®µå¿…é¡»åœ¨å½“å‰é˜¶æ®µä¹‹å‰
**ä½¿ç”¨æ—¶æœº**ï¼šå‘ç°é—®é¢˜éœ€è¦è¿”å›ä¹‹å‰é˜¶æ®µä¿®å¤

### å‘½ä»¤ä½¿ç”¨æµç¨‹ç¤ºä¾‹

**å®Œæ•´é¡¹ç›®æµç¨‹**ï¼š
```bash
# 1. åˆå§‹åŒ–é¡¹ç›®
npm run solodev init "æˆ‘çš„é¡¹ç›®" --description "é¡¹ç›®æè¿°"

# 2. å¼€å§‹éœ€æ±‚é˜¶æ®µ
npm run solodev start-requirements
# ... ç¼–å†™PRDæ–‡æ¡£ ...
npm run solodev approve requirements

# 3. å¼€å§‹æ¶æ„é˜¶æ®µ
npm run solodev start-architecture
# ... ç¼–å†™æ¶æ„æ–‡æ¡£ ...
npm run solodev approve architecture

# 4. å¼€å§‹å®ç°é˜¶æ®µ
npm run solodev start-implementation
# ... å®ç°æ¨¡å— ...
npm run solodev approve çŠ¶æ€ç®¡ç†æ¨¡å—
npm run solodev approve å‘½ä»¤ä½“ç³»æ¨¡å—
npm run solodev approve implementation

# 5. å¼€å§‹æµ‹è¯•é˜¶æ®µ
npm run solodev start-testing
# ... æ‰§è¡Œæµ‹è¯• ...
npm run solodev approve testing

# 6. å¼€å§‹éƒ¨ç½²é˜¶æ®µ
npm run solodev start-deployment
# ... æ‰§è¡Œéƒ¨ç½² ...
npm run solodev approve deployment

# 7. éšæ—¶æŸ¥çœ‹çŠ¶æ€
npm run solodev status
```

**å›æ»šåœºæ™¯**ï¼š
```bash
# å‘ç°é—®é¢˜éœ€è¦å›æ»š
npm run solodev rollback requirements "ç”¨æˆ·æ•…äº‹ä¸å®Œæ•´"
# ... ä¿®å¤é—®é¢˜ ...
npm run solodev approve requirements
# ... ç»§ç»­åç»­é˜¶æ®µ ...
```

---

## ä¹ã€å®è·µåŸåˆ™æ€»ç»“

### 1. ä¿æŒstate.jsonè½»é‡çº§

âœ… è¿­ä»£å®Œæˆåç«‹å³è¿ç§»åˆ°state_his.json
âœ… state.jsonåªä¿ç•™å½“å‰è¿­ä»£ä¿¡æ¯
âœ… æ§åˆ¶åœ¨100KBä»¥å†…

### 2. å†å²æ•°æ®æŒ‰éœ€è®¿é—®

âœ… å¤§éƒ¨åˆ†åˆ†æåªè¯»state.jsonï¼ˆ90%ï¼‰
âœ… æ˜ç¡®éœ€è¦æ—¶æ‰è¯»state_his.json

### 3. è¿ç§»æ—¶æœºå‡†ç¡®

âœ… è¿­ä»£å®Œæˆ + éƒ¨ç½²æˆåŠŸ â†’ è¿ç§»
âœ… ä¸Git TagåŒæ­¥

### 4. æŸ¥è¯¢ä¼˜åŒ–

âœ… ç›´æ¥è®¿é—® `completedIterations["iteration-id"]`ï¼ˆO(1)ï¼‰
âŒ é¿å…éå†æ‰€æœ‰è¿­ä»£ï¼ˆO(n)ï¼‰
